{% extends "base.html" %}
{% block contenido %}
<style>
    .card-body-centered {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 12px;
    }
    .tda-image {
        display: block;
        max-width: 85%;
        height: auto;
    }
    .btn-row {
        display: flex;
        gap: 10px;
        justify-content: center;
    }
    .input-row {
        display: flex;
        gap: 10px;
        justify-content: center;
        margin-top: 15px;
    }
</style>

<div class="card">
    <div class="card-header">
        <h3>Reporte de TDA (Graphviz)</h3>
    </div>

    <div class="card-body card-body-centered">
        <img
            src="{{ url_for('ver_archivo', filename=imagen) }}"
            alt="Reporte TDA"
            class="tda-image"
        />

        <p class="text-muted">Grafo representativo del estado de los TDAs utilizados en la simulaci√≥n.</p>

        <!-- Formulario para definir t -->
        <form method="post" action="{{ url_for('reporte_tda_tiempo', numero_plan=plan_numero, tiempo=tiempo|default(0)) }}" class="input-row">
            <input type="number" name="tiempo" class="form-control" placeholder="Ingrese t en segundos" min="1" required>
            <button type="submit" class="btn btn-primary">Actualizar Grafo</button>
        </form>

        <div class="btn-row">
            <a href="{{ url_for('descargar_archivo', filename=imagen) }}" class="btn btn-success">Descargar Imagen</a>
            <a href="{{ url_for('inicio') }}" class="btn btn-secondary">Volver al inicio</a>
        </div>
    </div>
</div>
{% endblock %}
